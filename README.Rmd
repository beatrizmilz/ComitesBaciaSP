---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# ComitesBaciaSP

<!-- badges: start -->
[![R build status](https://github.com/beatrizmilz/ComitesBaciaSP/workflows/R-CMD-check/badge.svg)](https://github.com/beatrizmilz/ComitesBaciaSP/actions)   [![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://www.tidyverse.org/lifecycle/#experimental)
<!-- badges: end -->

O objetivo deste pacote é disponibilizar funções para raspar dados sobre os Comitês de Bacias Hidrográficas do Estado de São Paulo, disponíveis de forma não estruturada no site [SigRH](http://www.sigrh.sp.gov.br/), assim como disponibilizar as bases de dados raspadas, de forma a facilitar a análise dos mesmos. 

Este pacote foi criado no âmbito da [pesquisa de doutorado de Beatriz Milz](https://beatrizmilz.github.io/tese/). 

## Instalação do pacote

Este pacote pode ser instalado através do  [GitHub](https://github.com/) utilizando o seguinte código em `R`:

``` r
# install.packages("devtools")
devtools::install_github("beatrizmilz/ComitesBaciaSP")
```
## Utilização do pacote

```{r example}
library(ComitesBaciaSP)
```

Para utilizar as funções do pacote, primeiramente é necessário saber o número referente ao comitê que você deseja buscar informações:

```{r}
comites_sp %>%
  dplyr::select(nome_ugrhi, n_ugrhi) %>%
  knitr::kable(col.names = c("Nome", "Número"))
```

### Busca de atas

A função seguinte busca informações disponíveis sobre as atas dos comitês de bacia:

```{r}
obter_tabela_atas_comites(6) %>% # O 6 é o número referente à bacia Alto Tietê
  head() %>%  # filtra apenas as primeiras linhas
  knitr::kable() # formata a tabela
```

```{r}
reunioes_disponiveis_por_comite <- tabela_atas_comites %>%
  dplyr::filter(numero_link == "ata_1") %>%
  dplyr::group_by(comite, comite_numero) %>%
  dplyr::count()

knitr::kable(reunioes_disponiveis_por_comite)

```

